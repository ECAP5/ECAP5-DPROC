\documentclass[12pt]{article}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%% PACKAGES %%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[inner=2.1cm, bottom=1.5cm, top=1.5cm, outer=2.1cm,
  headheight=24pt, % as per the warning by fancyhdr
  includehead,includefoot,
  heightrounded]{geometry}
% Set the font
\usepackage{helvet}
\renewcommand{\familydefault}{\sfdefault}
% bitfield
\usepackage{bytefield}
% urls
\usepackage[hidelinks]{hyperref}
% disable indent
\usepackage[skip=1em, indent=0pt]{parskip}
% shifted environment
\newenvironment{content}%
  {\list{}{\leftmargin=1.5cm}\item[]}%
  {\endlist}
% cell color
\usepackage[table, dvipsnames]{xcolor}
% drawings
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usetikzlibrary{shapes.geometric,angles,quotes}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{positioning}
\usetikzlibrary{babel}
\usetikzlibrary{fit}
\usetikzlibrary{angles, quotes}
\tikzset{
% Define standard arrow tip
>={Latex[scale=1.25]}
}
\usepackage{tikz-layers}
\usepackage{tikz-timing}
\usetikztiminglibrary[rising arrows]{clockarrows}
\usetikztiminglibrary{either}
\usetikztiminglibrary{overlays}
% floating figures
\usepackage{float}
% do computations
\usepackage{calc}
% advanced tables
\usepackage{makecell}
\usepackage{tabularx}
\usepackage{xltabular}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\usepackage{multirow}
\usepackage{graphicx}
% no title at the end of pages
\usepackage[nobottomtitles]{titlesec}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%% Variables %%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{docs/arch/variables.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%% Configuration %%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setlength{\tabcolsep}{10pt}
\renewcommand{\arraystretch}{1.5}
% Functional requirement environment
\newlength{\reqtablelength}
\setlength{\reqtablelength}{0.9\textwidth}
\newcommand{\reqcolor}{blue!20!gray}
\newcommand{\req}[3]{
  \begin{center}
  {
    \footnotesize
    \begin{tabularx}{\reqtablelength}{|l|X|}
      \hline
      \cellcolor{\reqcolor!30}\textbf{ID} & #1\\
      \hline
      \cellcolor{\reqcolor!15}\textbf{Description} & \cellcolor{\reqcolor!5}{#2} \\
      \hline
      \cellcolor{\reqcolor!15}\textbf{Refers to} & \cellcolor{\reqcolor!5}\makecell[l]{#3} \\
      \hline
    \end{tabularx}
  }
  \end{center}
}
\newcommand{\reqwithratio}[4]{
  \begin{center}
  {
    \footnotesize
    \begin{tabularx}{\reqtablelength}{|l|X|}
      \hline
      \cellcolor{\reqcolor!30}\textbf{ID} & #1\\
      \hline
      \cellcolor{\reqcolor!15}\textbf{Description} & \cellcolor{\reqcolor!5}{#2} \\
      \hline
      \cellcolor{\reqcolor!15}\textbf{Rationale} & \cellcolor{\reqcolor!5}#3 \\
      \hline
      \cellcolor{\reqcolor!15}\textbf{Refers to} & \cellcolor{\reqcolor!5}#4 \\
      \hline
    \end{tabularx}
  }
  \end{center}
}
% User requirement 
\newlength{\ureqtablelength}
\setlength{\ureqtablelength}{0.9\textwidth}
\newcommand{\ureqcolor}{blue!20!gray}
\newcommand{\ureq}[2]{
  \begin{center}
  {
    \footnotesize
    \begin{tabularx}{\ureqtablelength}{|l|X|}
      \hline
      \cellcolor{\ureqcolor!30}\textbf{ID} & #1\\
      \hline
      \cellcolor{\ureqcolor!15}\textbf{Description} & \cellcolor{\ureqcolor!5}#2 \\
      \hline
    \end{tabularx}
  }
  \end{center}
}
% External interface requirement
\newlength{\ireqtablelength}
\setlength{\ireqtablelength}{0.9\textwidth}
\newcommand{\ireqcolor}{blue!20!gray}
\newcommand{\ireq}[3]{
  \begin{center}
  {
    \footnotesize
    \begin{tabularx}{\ireqtablelength}{|l|X|}
      \hline
      \cellcolor{\ireqcolor!30}\textbf{ID} & #1\\
      \hline
      \cellcolor{\ireqcolor!15}\textbf{Description} & \cellcolor{\ireqcolor!5}#2 \\
      \hline
      \cellcolor{\ireqcolor!15}\textbf{Refers to} & \cellcolor{\ireqcolor!5}\makecell[l]{#3} \\
      \hline
    \end{tabularx}
  }
  \end{center}
}
\newcommand{\ireqwithratio}[4]{
  \begin{center}
  {
    \footnotesize
    \begin{tabularx}{\ireqtablelength}{|l|X|}
      \hline
      \cellcolor{\ireqcolor!30}\textbf{ID} & #1\\
      \hline
      \cellcolor{\ireqcolor!15}\textbf{Description} & \cellcolor{\ireqcolor!5}#2 \\
      \hline
      \cellcolor{\ireqcolor!15}\textbf{Rationale} & \cellcolor{\ireqcolor!5}\makecell[l]{#3} \\
      \hline
      \cellcolor{\ireqcolor!15}\textbf{Refers to} & \cellcolor{\ireqcolor!5}\makecell[l]{#4} \\
      \hline
    \end{tabularx}
  }
  \end{center}
}

% Configure headers and footers
\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}
\renewcommand{\headruleskip}{4pt}
\renewcommand{\footruleskip}{4pt}
\fancyhead{}\fancyfoot{}
\fancyhead[HL]{\scriptsize{\textbf{\parent} \\
\project}}
\fancyhead[HR]{\scriptsize{Page \thepage \\
}}
\fancyfoot[FL]{\scriptsize{\title}}
\fancyfoot[FR]{\scriptsize{Issue Date: \today}}
\fancyfoot[FC]{\scriptsize{\vspace{1em}\textit{Revision \version}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%% Content %%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\input{docs/arch/structure.tex}
\end{document}
